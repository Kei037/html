<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="./css/register.css">
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const frmRegister = document.getElementById('register')
            const userId = document.querySelector('#user-id')
            const btnSubmit = document.querySelector('[type=button]')
            const pw1 = document.querySelector('#user-pw1')
            const pw2 = document.querySelector('#user-pw2')

            btnSubmit.addEventListener('click', () => {
                // 아이디 글자 수 확인
                if (userId.value.length < 4 || userId.value.length > 15) {
                    alert('4~15자리로 입력하세요.')
                    // select() : 사용자가 기존에 입력한 값을 선택.
                    // focus() : 사용자가 기존에 입력한 값을 지우고 새로운 값을 입력하도록 텍스트 필드에 커서를 가져다 놓음
                    userId.select();
                    return
                }

                frmRegister.submit();
            });
            // 비밀번호 필드에 입력한 내용의 글자수가 8자리 이상인지 확인
            pw1.addEventListener('change', () => {
                if (pw1.value.length < 8) {
                    alert('비밀번호는 8자리 이상이어야 합니다.')
                    pw1.value = '';
                    pw1.focus();
                }
            });
            // 비밀번호가 같은지 확인
            pw2.addEventListener('change', () => {
                if (pw1.value !== pw2.value) {
                    alert('암호가 다릅니다. 다시 입력하세요');
                    pw2.value = '';
                    pw2.focus()
                }
            });

            // 버튼클릭시 비밀번호 문자로 보이기
            const btnTrans = document.querySelector('span.trans');
            btnTrans.style.cursor = 'pointer';
            btnTrans.style.userSelect = 'none';
            btnTrans.addEventListener('click', (e) => {
                if (pw1.getAttribute('type') === 'password') {
                    pw1.setAttribute('type', 'text')
                    e.currentTarget.textContent = '패스워드로 변환';
                } else {
                    pw1.setAttribute('type', 'password')
                    e.currentTarget.textContent = '문자로 변환';
                }
            });
        });
    </script>
</head>
<body>
<div id="container">
    <h1>회원 가입</h1>
    <form action="#" id="register">
    <ul id="user-info">
        <li>
            <label for="user-id" class="field">아이디</label>
            <input type="text" name="user-id" id="user-id" placeholder="4~15자리로 입력" required>
        </li>
        <li>
            <label for="email" class="field">이메일</label>
            <input type="email" name="email" id="email" required>
        </li>
        <li>
            <label for="user-pw1" class="field">비밀번호</label>
            <input type="password" name="user-pw1" id="user-pw1" placeholder="8자리 이상" required>
            <span class="trans">문자로 변환</span>
        </li>
        <li>
            <label for="user-pw2" class="field">비밀번호 확인</label>
            <input type="password" name="user-pw2" id="user-pw2" required>
        </li>
        <li>
            <label class="field">메일링 수신</label>
            <label class="r"><input type="radio" value="yes" name="mailing">예</label>
            <label class="r"><input type="radio" value="no" name="mailing">아니오</label>
        </li>
    </ul>
    <ul id="buttons">
        <li>
            <input type="button" class="btn btnBlack" value="가입하기">
        </li>
        <li>
            <input type="reset" class="btn btnGray" value="취소">
        </li>
    </ul>
    </form>
</div>
</body>
</html>